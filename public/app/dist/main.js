"use strict";{function pad(e){return e<10?"0"+e:e}Date.prototype.toISOShortString=function(){return this.getUTCFullYear()+"-"+pad(this.getUTCMonth()+1)+"-"+pad(this.getUTCDate())+"T"+pad(this.getUTCHours())+":"+pad(this.getUTCMinutes())+":"+pad(this.getUTCSeconds())+"Z"},angular.module("app",["ngRoute","ngAnimate"]).config(function(e){e.when("/search",{template:' <section class="backgroundGradient" id="backgroundGradient"></section>\n        <search-criteria></search-criteria>'}).when("/bucket",{template:' <section class="backgroundGradient" id="backgroundGradient"></section>\n        <bucketlist-page></bucketlist-page>'}).when("/event",{template:' <section class="backgroundGradient" id="backgroundGradient"></section>\n        <event-list></event-list>'}).otherwise({redirectTo:"/search"})})}function TicketService(e,t,n){let o=this;o.requestData=((a,s,r,i)=>{let c="",l="",u=encodeURIComponent(r.toISOShortString()),d=encodeURIComponent(i.toISOShortString());if("string"!=typeof a||"string"!=typeof s)return;c=encodeURIComponent(a),l=encodeURIComponent(s),o.bucketlist=[],o.getObject=(()=>o.objec._embedded.events);let h=t.trustAsResourceUrl("http://www.datasciencetoolkit.org/maps/api/geocode/json?sensor=false/address=detroit");const p={sensor:"false",address:`${l}`};return console.log(angular.callback),e.jsonp(h,{params:p}).then(e=>{if(!e.data.results[0].geometry.location)return void console.log("location not found");return[e.data.results[0].geometry.location.lat,e.data.results[0].geometry.location.lng]}).then(t=>{let a=t[0]+","+t[1];return e({method:"GET",url:`https://app.ticketmaster.com/discovery/v2/events.json?keyword=${c}&latlong=${a}&radius=150&startDateTime=${u}&endDateTime=${d}&apikey=U7tG9w7O8UpfeSNk3oaR43EUFk1rMyoA`}).then(e=>{if(e.data)return o.objec=e.data,n.path(),o.objec})})})}angular.module("app").service("TicketService",TicketService);const bucketlistPage={templateUrl:"components/bucketlist/bucket.html",controller:["TicketService","$location",function(e,t){const n=this;n.list=e.bucketlist,n.delete=(e=>{n.list.splice(e,1)}),n.moreInfo=(e=>{n.show=e}),n.closeInfo=(()=>{n.show=null}),n.changePath=(e=>{t.path(e)})}]};angular.module("app").component("bucketlistPage",bucketlistPage);let searchCriteria={templateUrl:"components/search/search.html",controller:["TicketService","$scope","$location",function(e,t,n){this.data=null,this.fdate={value:new Date(2018,8,7)},this.ldate={value:new Date(2018,9,7)},this.getData=((t,o,a,s)=>{e.requestData(t,o,a,s).then(()=>{n.path("/event")})})}]};angular.module("app").component("searchCriteria",searchCriteria);let eventList={bindings:"",templateUrl:"components/eventlist/event.html",controller:["TicketService","$location",function(e,t){const n=this;n.show=null,n.searchInfo=e.getObject(),n.favClick=(t=>{e.bucketlist.push(t)}),n.moreInfo=(e=>{n.show=e}),n.closeInfo=(()=>{n.show=null}),n.changePath=(e=>{t.path(e)})}]};angular.module("app").component("eventList",eventList);